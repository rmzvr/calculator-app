const SLIDER=document.querySelector(".slider"),ROOT_ELEMENT=document.documentElement,BODY=document.body,CALC_DISPLAY=document.querySelector(".calc__display"),CALC_BODY=document.querySelector(".calc__body");let themes={1:"neutral",2:"light",3:"dark"},themesMainBackgroundColors={neutral:"rgb(58, 71, 100)",light:"rgb(230, 230, 230)",dark:"rgb(22, 6, 40)"};function getObjectKeyByValue(e,t){return Object.entries(e).find(e=>e[1]===t)}function getCurrentThemeName(){var e=getComputedStyle(BODY).backgroundColor;return getObjectKeyByValue(themesMainBackgroundColors,e)[0]}function setCurrentThemePositionInSwitcher(){var e=getCurrentThemeName(),e=getObjectKeyByValue(themes,e)[0];SLIDER.value=e}function switchTheme(){var e=SLIDER.value,e=themes[e];ROOT_ELEMENT.setAttribute("data-theme",e),BODY.style.backgroundColor=themesMainBackgroundColors[e]}function hideInitialZeroOnDisplay(){CALC_DISPLAY.innerText&&CALC_DISPLAY.classList.remove("null")}function showInitialZeroOnDisplay(){CALC_DISPLAY.innerText||CALC_DISPLAY.classList.add("null")}function deleteLastCharacter(){CALC_DISPLAY.innerText=CALC_DISPLAY.innerText.substr(0,CALC_DISPLAY.innerText.length-1)}function cleanDisplay(){CALC_DISPLAY.innerText=""}function characterIsOperator(t){return["+","-","*","/"].some(e=>e==t)}function renderCharacterOnDisplay(e){CALC_DISPLAY.innerText+=e}function renderExpressionResultOnDisplay(e){CALC_DISPLAY.innerText=+e.toFixed(2)}setCurrentThemePositionInSwitcher(),SLIDER.addEventListener("change",switchTheme),CALC_BODY.addEventListener("click",event=>{const KEY_VALUE=event.target.innerText;if(!event.target.classList.contains("calc__body")){if("DEL"===KEY_VALUE)return deleteLastCharacter(),void showInitialZeroOnDisplay();if("RESET"===KEY_VALUE)return cleanDisplay(),void showInitialZeroOnDisplay();if("="!==KEY_VALUE){if(CALC_DISPLAY.innerText.length<=13){let characters=CALC_DISPLAY.innerText.split(""),lastWellBeCheckedCharacter=characters[characters.length-1],lastCharacterIsOperator=characterIsOperator(lastWellBeCheckedCharacter);if(CALC_DISPLAY.innerText&&lastCharacterIsOperator){let currectCharacterIsOperator=characterIsOperator(KEY_VALUE);return currectCharacterIsOperator?void 0:void renderCharacterOnDisplay(KEY_VALUE)}renderCharacterOnDisplay(KEY_VALUE)}hideInitialZeroOnDisplay()}else{if(!CALC_DISPLAY.innerText)return;const EXPRESSION=CALC_DISPLAY.innerText;let result=eval(EXPRESSION);renderExpressionResultOnDisplay(result)}}});